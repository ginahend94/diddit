<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Awesome Project - Diddit</title>
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
    <nav class="sidebar">
        <header>
            <h1>Diddit.<svg style="width:24px;height:24px" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z" />
                </svg>
            </h1>
        </header>
        <div class="sidebar-lower">
            <div class="project-list-container">
                <ul class="project-list" id="project-list">
                    <li class="project-info active-project">
                        <span class="project-title">My Awesome Project</span>
                        <span class="project-options">
                            <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                <path fill="currentColor"
                                    d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
                            </svg>
                        </span>
                    </li>
                    <li class="project-info">
                        <span class="project-title">Cool project</span>
                        <span class="project-options">
                            <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                <path fill="currentColor"
                                    d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
                            </svg>
                        </span>
                    </li>
                    <li class="project-info">
                        <span class="project-title">Difficult project</span>
                        <span class="project-options">
                            <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                <path fill="currentColor"
                                    d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
                            </svg>
                        </span>
                    </li>
                    <li class="project-info">
                        <span class="project-title">Finished project</span>
                        <span class="project-options">
                            <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                <path fill="currentColor"
                                    d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
                            </svg>
                        </span>
                    </li>
                </ul>
                <button>Add new project</button>
            </div>
            <ul class="settings-menu">
                <li><svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" />
                    </svg>Account</li>
                <li><svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
                    </svg>Settings</li>
                <li><svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" />
                    </svg>About</li>
            </ul>
        </div>
    </nav>
    <main>
        <header>
            <h2>My Awesome Project</h2>
            <p class="active-project-description">Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Sint,
                minus
                non cumque odit asperiores eaque.</p>
        </header>
        <div class="project-container">
            <div class="to-do-list-container">
                <ul class="to-do-list drag-container" id="1">
                    <li class="task drag-element drag-container" id="1-1" data-container="1">
                        <div class="task-container">
                            <label for="checkbox-1-1" class="checkbox-container"></label>
                            <input id="checkbox-1-1" type="checkbox" class="list-checkbox">
                            <label for="checkbox-1-1"><span class="checkmark"></span></label>
                            <span class="task-text">Care for dogs</span>
                            <span class="task-due-date">6/12/22</span>
                            <span class="drag">
                                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                </svg>
                            </span>
                        </div>
                        <ul class="subtasks">
                            <li class="subtask drag-element" id="1-1-1" data-container="1-1">
                                <div class="task-container">
                                    <label for="checkbox-1-1-1" class="checkbox-container">
                                    </label>
                                    <input id="checkbox-1-1-1" type="checkbox" class="list-checkbox">
                                    <label for="checkbox-1-1-1"><span class="checkmark"></span></label>
                                    <span class="task-text">Feed dogs</span>
                                    <span class="task-due-date">6/12/22</span>
                                    <span class="drag">
                                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                        </svg>
                                    </span>
                                </div>
                            </li>
                            <li class="subtask drag-element" id="1-1-2" data-container="1-1">
                                <div class="task-container">
                                    <label for="checkbox-1-1-2" class="checkbox-container">
                                    </label>
                                    <input id="checkbox-1-1-2" type="checkbox" class="list-checkbox">
                                    <label for="checkbox-1-1-2"><span class="checkmark"></span></label>
                                    <span class="task-text">Walk dogs</span>
                                    <span class="task-due-date">6/12/22</span>
                                    <span class="drag">
                                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                        </svg>
                                    </span>
                                </div>
                            </li>
                            <li class="subtask drag-element" id="1-1-3" data-container="1-1">
                                <div class="task-container">
                                    <label for="checkbox-1-1-3" class="checkbox-container">
                                    </label>
                                    <input id="checkbox-1-1-3" type="checkbox" class="list-checkbox">
                                    <label for="checkbox-1-1-3"><span class="checkmark"></span></label>
                                    <span class="task-text">Bathe dogs</span>
                                    <span class="task-due-date">6/12/22</span>
                                    <span class="drag">
                                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                        </svg>
                                    </span>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="task drag-element" id="1-3" data-container="1">
                        <div class="task-container">
                            <label for="checkbox-1-3" class="checkbox-container">
                            </label>
                            <input id="checkbox-1-3" type="checkbox" class="list-checkbox">
                            <label for="checkbox-1-3"><span class="checkmark"></span></label>
                            <span class="task-text">Call Mom Lorem ipsum dolor sit amet.</span>
                            <span class="task-due-date">6/12/22</span>
                            <span class="drag">
                                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                </svg>
                            </span>
                        </div>
                    </li>
                    <li class="task drag-element" id="1-2" data-container="1">
                        <div class="task-container">
                            <label for="checkbox-1-2" class="checkbox-container">
                            </label>
                            <input id="checkbox-1-2" type="checkbox" class="list-checkbox">
                            <label for="checkbox-1-2"><span class="checkmark"></span></label>
                            <span class="task-text">Clean house</span>
                            <span class="task-due-date">6/12/22</span>
                            <span class="drag">
                                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                </svg>
                            </span>
                        </div>
                        <ul class="subtasks">
                            <li class="subtask drag-element" id="1-2-1" data-container="1-2">
                                <div class="task-container">
                                    <label for="checkbox-1-2-1" class="checkbox-container">
                                    </label>
                                    <input id="checkbox-1-2-1" type="checkbox" class="list-checkbox">
                                    <label for="checkbox-1-2-1"><span class="checkmark"></span></label>
                                    <span class="task-text">Sweep floor</span>
                                    <span class="task-due-date">6/12/22</span>
                                    <span class="drag">
                                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                        </svg>
                                    </span>
                                </div>
                            </li>
                            <li class="subtask drag-element" id="1-2-2" data-container="1-2">
                                <div class="task-container">
                                    <label for="checkbox-1-2-2" class="checkbox-container">
                                    </label>
                                    <input id="checkbox-1-2-2" type="checkbox" class="list-checkbox">
                                    <label for="checkbox-1-2-2"><span class="checkmark"></span></label>
                                    <span class="task-text">Wash dishes</span>
                                    <span class="task-due-date">6/12/22</span>
                                    <span class="drag">
                                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                        </svg>
                                    </span>
                                </div>
                            </li>
                            <li class="subtask drag-element" id="1-2-3" data-container="1-2">
                                <div class="task-container">
                                    <label for="checkbox-1-2-3" class="checkbox-container">
                                    </label>
                                    <input id="checkbox-1-2-3" type="checkbox" class="list-checkbox">
                                    <label for="checkbox-1-2-3"><span class="checkmark"></span></label>
                                    <span class="task-text">Do laundry</span>
                                    <span class="task-due-date">6/12/22</span>
                                    <span class="drag">
                                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                        </svg>
                                    </span>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="task drag-element" id="1-4" data-container="1">
                        <div class="task-container">
                            <label for="checkbox-1-4" class="checkbox-container">
                            </label>
                            <input id="checkbox-1-4" type="checkbox" class="list-checkbox">
                            <label for="checkbox-1-4"><span class="checkmark"></span></label>
                            <span class="task-text">Apply for jobs</span>
                            <span class="task-due-date">6/12/22</span>
                            <span class="drag">
                                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                                </svg>
                            </span>
                        </div>
                    </li>
                </ul>
                <button>Add new task</button>
            </div>
            <div class="add-new">
                <button class="split-button-button">New</button>
                <button class="split-button-dropdown"><span class="type">List</span>
                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                    </svg>
                    <ul class="split-button-dropdown-list">
                        <li>List</li>
                        <li>Note</li>
                    </ul>
                </button>
            </div>
        </div>
    </main>
    <div class="modal-container show">
        <div class="modal-bg hidden"></div>
        <div class="modal">
            <div class="drag-bar">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <form class="task-details">
                <input type="text" name="task-title" id="task-title" class="task-title" placeholder="Enter task here..." required>
                <label>
                    Due by
                    <div class="pretty-date-container">
                        <label for="pretty-date"><span id="mm">mm</span> / <span id="dd">dd</span> / <span
                                id="yyyy">yyyy</span></label>
                        <input type="date" name="pretty-date" id="pretty-date">
                        <svg id="clr-btn" style="width:15px;height:15px" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z" />
                        </svg>
                    </div>
                </label>
                <div class="task-priority">
                    <legend>Priority</legend>
                    <div>
                        <span id="priority-selection">None <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                                        </svg></span>
                        <fieldset name="task-priority" id="task-priority" class="task-priority-list">
                            <label class="active"><input name="priority" type="radio" value="none">None</label>
                            <label><input name="priority" type="radio" value="low">Low</label>
                            <label><input name="priority" type="radio" value="medium">Medium</label>
                            <label><input name="priority" type="radio" value="high">High</label>
                        </fieldset>
                    </div>
                </div>
                <div class="add-subtasks">
                    <label for="add-subtasks">
                        <input type="checkbox" name="add-subtasks" id="add-subtasks">
                        Add subtasks
                    </label>
                    <div class="subtask-form hidden">
                        <small class="subtask-directions">
                            Enter your subtasks below. Add a due date separated by a comma, and a new task on a new
                            line.
                        </small>
                        <textarea name="subtasks" id="new-subtasks" cols="25" rows="5"
                            placeholder="e.g. Walk dog, 6/12/22"></textarea>
                    </div>
                </div>
                <label for="notes">
                    Notes:
                    <textarea name="notes" id="notes" cols="25" rows="5" placeholder="Notes (optional)"></textarea>
                </label>
                <div class="buttons">
                    <button class="save" disabled>Save</button>
                    <button class="cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <script src="dropdown.js"></script>
    <script src="drag.js"></script>
    <script>
        const dateInput = document.getElementById('pretty-date');
        dateInput.addEventListener('change', e => {
            const mm = document.getElementById('mm');
            const dd = document.getElementById('dd');
            const yyyy = document.getElementById('yyyy');
            // yyyy mm dd
            let dateArray = e.target.value.split('-');
            if (dateArray.length <= 1) {
                yyyy.textContent = 'yyyy';
                mm.textContent = 'mm';
                dd.textContent = 'dd';
                return;
            }
            yyyy.textContent = dateArray[0];
            mm.textContent = dateArray[1];
            dd.textContent = dateArray[2];
        })

        const modalContainer = document.querySelector('.modal-container');
        const addSubtasks = document.getElementById('add-subtasks');
        addSubtasks.addEventListener('change', e => {
            if (e.target.checked) {
                return document.querySelector('.subtask-form').classList.remove('hidden');
            };
            return document.querySelector('.subtask-form').classList.add('hidden');
        })

        const cancel = document.querySelector('.cancel');
        cancel.addEventListener('click', e => {
            e.preventDefault();
            modalContainer.classList.remove('show');
            modalContainer.classList.add('hidden');
        })

        const dragElements = document.querySelectorAll('.modal');
        dragElements.forEach(element => dragElement(element));

        function dragElement(elmnt) {
            var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            elmnt.querySelector('.drag-bar').onmousedown = dragMouseDown;

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                // get the mouse cursor position at startup:
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                // call a function whenever the cursor moves:
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                // calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;

                // set the element's new position:
                elmnt.style.top = (() => {
                // prevent dragging outside window
                    if (elmnt.offsetTop - pos2 < 0) {
                        return '0';
                    }
                    if ((elmnt.offsetTop - pos2) >= window.innerHeight - elmnt.offsetHeight / 2) {
                        return (window.innerHeight - elmnt.offsetHeight / 2) + 'px';
                    }
                    return (elmnt.offsetTop - pos2) + "px";
                })();
                elmnt.style.left = (() => {
                    if (elmnt.offsetLeft - pos1 < 0) {
                        return 0;
                    }
                    if ((elmnt.offsetLeft + elmnt.offsetWidth) - pos1 > window.innerWidth) {
                        return window.innerWidth - elmnt.offsetWidth + 'px';
                    }
                    return (elmnt.offsetLeft - pos1) + "px"
                })();
            }

            function closeDragElement() {
                /* stop moving when mouse button is released:*/
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        const clr = document.getElementById('clr-btn');
        clr.addEventListener('click', e => {
            e.preventDefault();
            document.getElementById('pretty-date').value = '';
            document.getElementById('pretty-date').dispatchEvent(new Event('change'));
        })



    </script>
</body>

</html>